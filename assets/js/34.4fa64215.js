(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{293:function(t,s,n){"use strict";n.r(s);var e=n(19),a=Object(e.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"自动化工程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#自动化工程"}},[t._v("#")]),t._v(" 自动化工程")]),t._v(" "),n("p",[t._v("注: 由于每次添加左边菜单栏都得更改也就是"),n("code",[t._v("containerMain/Index.js")]),t._v("文件下都得改,比较麻烦")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\\components\\containerMain\\components.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**自动化工程*/")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//建立上下文关系")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// const files = require.context("../../views/",true,/\\.js$/);//第一个参数,目录,第二个参数:是否拆找子级目录,第三参数:指定查找到文件')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //声明组件对象")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const components = [];")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //循环文件")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// files.keys().map(key =>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //过滤掉index,login")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     if(key.includes("./index/")|| key.includes("./login/")){return false;}')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //分割字符串")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     const splitFilesName = key.split(".");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const jsonObj = {};")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //path")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const path = `/index${splitFilesName[1].toLowerCase()}`;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const component =  files(key).default;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // 写入对象")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     jsonObj.path = path;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     jsonObj.component = component;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     components.push(jsonObj);")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default components;")]),t._v("\n\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\\components\\containerMain\\Index.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**自动化工程*/")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import components from "./components";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// render(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         <Switch>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 components.map(item=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     return <PrivateRouter exact key={item.path} path={item.path}  component={item.component}  />   ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             {/* <PrivateRouter exact path="/index/user/list"  component={User}  />   ')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <PrivateRouter exact path="/index/user/add"  component={UserAdd}  />   ')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <PrivateRouter exact path="/index/department/list"  component={DepartmentList}  />   ')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <PrivateRouter exact path="/index/department/add"  component={DepartmentAdd}  />    */}')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         </Switch>")]),t._v("\n           \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     )")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n")])])]),n("h2",{attrs:{id:"inputnumber"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inputnumber"}},[t._v("#")]),t._v(" InputNumber")]),t._v(" "),n("ul",[n("li",[t._v("专门处理数字的,大部门在form表单里")])]),t._v(" "),n("h2",{attrs:{id:"react-cookies"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react-cookies"}},[t._v("#")]),t._v(" React-cookies")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("sessionStorage:生命周期是仅存在当前会话下有效果,也就是当前窗口,只要这个浏览器没用关闭,sessionStorage在关闭了浏览器窗口后就会被销毁")])]),t._v(" "),n("li",[n("p",[t._v("localStorage:生命周期是永久存在的,在关闭页面或者浏览器之后localStorage中的数据也不会消失.localStorage除非主动删除数据,否则数据永远不会消失")])]),t._v(" "),n("li",[n("p",[t._v("cookie:生命周期为只在设置cookie过期时间之前一直有效,即使窗口或者浏览器关闭,存放数据大小为4k左右,有个数限制(各浏览器不一样,一般不超过20个,缺点不能存储大数据且不易读取).")])]),t._v(" "),n("li",[n("p",[t._v("得安装依赖不然能用cookies")])]),t._v(" "),n("li",[n("p",[t._v("npm install react-cookies --save")])])]),t._v(" "),n("h2",{attrs:{id:"解决无法获取token-添加部门接口调试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决无法获取token-添加部门接口调试"}},[t._v("#")]),t._v(" 解决无法获取token,添加部门接口调试")]),t._v(" "),n("ul",[n("li",[t._v("添加部门接口")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//react-admin\\src\\api\\department.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import service from "../../src/utils/requets";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// * 添加部门接口")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function DepartmentAdd(data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return service.request({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         url:"/department/add/",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         method:"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data, //请求了类型为post时")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("修改react-router的路径")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// react-admin\\src\\components\\privateRouter\\index.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import React from "react";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {Redirect, Route} from "react-router-dom";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //token")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {getToken} from "../../utils/cookies";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const PrivateRouter = ({ component: Component, ...rest }) =>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return (")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     <Route")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         {...rest}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         render={routeProps => (")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             getToken() ? <Component {...routeProps} /> :<Redirect to="/"/>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         )}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     />")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     );")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default PrivateRouter;")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("新增文件cookies文件")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//react-admin\\src\\utils\\cookies.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import cookies from "react-cookies";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// const token = "adminToken";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// const user = "username";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //存储token")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function setToken(value){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     cookies.save(token,value)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function getToken(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return cookies.load(token)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//存储用户名")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     export function sutUsername(value){")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         cookies.save(user,value)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     export function getUsername(){")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return cookies.load(user)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n\n")])])]),n("ul",[n("li",[t._v("修改请求部门")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\\react-admin\\src\\utils\\requets.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//第二部: 请求拦截(请求头)")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  service.interceptors.request.use(function (config) {")]),t._v("\n\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//--------------------------------------------------")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在发送请求之前做些什么 Token,Username")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// config.headers["Token"] = getToken();')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//config.headers["Username"] = getUsername();')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//--------------------------------------------------")]),t._v("\n\n\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return config;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }, function (error) {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // 对请求错误做些什么")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return Promise.reject(error);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// });")]),t._v("\n\n\n")])])]),n("ul",[n("li",[t._v("添加部门页面(主体)")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//react-admin\\src\\views\\department\\Add.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//部门管理-添加部门")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import React,{Component} from "react";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //ANTD")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// import{Form, Input,Button, InputNumber,Radio,message} from 'antd';")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //API")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import { DepartmentAdd } from "../../api/department";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// class AddDepartment extends Component{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     constructor(props){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         super();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.state={")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             loading:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             fromLayout:{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 labelCol:{span:2} ,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 wrapperCol:{span:20} ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onSubmit = (v) =>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!v.name){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             message.error("部门不能为空");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!v.number|| v.number ===0){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             message.error("人员数量不能为0");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!v.content){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             message.error("描述不能为空");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             loading:true,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         DepartmentAdd(v).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             const data = response.data;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             message.info(data.message);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 loading:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //重置表单")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.refs.form.resetFields();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }).catch(error=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 loading:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render() {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // 老式写法")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // <Form onFinish={this.onSubmit} labelCol={this.state.fromLayout.labelCol} wrapperCol={this.state.fromLayout.wrapperCol}></Form>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // es6扩展")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             <Form ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             ref="form"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             onFinish={this.onSubmit}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             {...this.state.fromLayout} ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             initialValues={{status:true,number:0}}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             >")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Form.Item label="部门名称" name="name">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     <Input />")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Form.Item label="人员熟量" name="number">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     <InputNumber min={0} max={100}   />")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Form.Item label="禁启用" name="status">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     <Radio.Group  >")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         <Radio value={true}>启用</Radio>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         <Radio value={false}>禁用</Radio>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     </Radio.Group>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Form.Item label="描述" name="content">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     <Input.TextArea />")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Button loading={this.state.loading} type="primary" htmlType="submit">提交</Button>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Form>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         )")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default AddDepartment;")]),t._v("\n\n\n")])])]),n("ul",[n("li",[t._v("两处修改")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//react-admin\\src\\views\\login\\LoginFrom.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {setToken,sutUsername} from "../../utils/cookies";')]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Login(resquesData).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             loading:true,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //路由跳转")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const data = response.data.data;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         setToken(data.token);")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//------------------------------")]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sutUsername(data.username)")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//------------------------------")]),t._v("\n\n\n\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     this.props.history.push("/index");')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }).catch(error=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         loading:true,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// })")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"react接口在componentdidmount来请求"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react接口在componentdidmount来请求"}},[t._v("#")]),t._v(" React接口在"),n("code",[t._v("componentDidMount")]),t._v("来请求")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("基本生命周期: constructor() --\x3e componentWillMount()----\x3erender()----\x3e"),n("code",[t._v("componentDidMount()")])])]),t._v(" "),n("li",[n("p",[t._v("constructor被调用是在组件准备要挂载的最开始,此时组件尚未挂载到网页上.")])]),t._v(" "),n("li",[n("p",[t._v("componentWillMount 在constructor之后,在render之前,在这方法里的代码调用setState方法不会触发重新render,所以不会用来作加载数据之用")])]),t._v(" "),n("li",[n("p",[n("code",[t._v("componentDidMount")]),t._v("方法里的代码,是在组件已经完全挂载到网页上才会调用被执行.所以可以保证数据的加载")])])]),t._v(" "),n("h2",{attrs:{id:"配置路径不用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置路径不用"}},[t._v("#")]),t._v(" 配置路径不用../../")]),t._v(" "),n("ul",[n("li",[t._v("到"),n("code",[t._v("config/webpack.config.js")]),t._v("文件里搜索"),n("code",[t._v("alias")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  alias: {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     '@': path.resolve('src'),")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     '@c': path.resolve('src/components'),")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     '@api': path.resolve('src/api'),")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // Support React Native Web")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // https://www.smashingmagazine.com/2016/08/a-glimpse-into-the-future-with-react-native-for-web/")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     'react-native': 'react-native-web',")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // Allows for better profiling with ReactDevTools")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     ...(isEnvProductionProfile && {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       'react-dom$': 'react-dom/profiling',")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       'scheduler/tracing': 'scheduler/tracing-profiling',")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }),")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     ...(modules.webpackAliases || {}),")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//   },")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"部门列表-1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部门列表-1"}},[t._v("#")]),t._v(" 部门列表(1)")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\api\\department.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    * 部门列表\n    */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function GetList(data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return service.request({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         url:"/department/list/",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         method:"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data, //请求了类型为post时")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// * 删除列表一行")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function Delete(data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return service.request({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         url:"/department/delete/",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         method:"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data, //请求了类型为post时")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //---------------------------------全局错误拦截------------------------------------------------------------")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //ANTD")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// import{message} from 'antd';")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //第三步: 响应拦截(响应头)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// service.interceptors.response.use(function (response) {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // 对响应数据做点什么")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const data = response.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(data.resCode !==0){ //rescode不成功 全局错误拦截")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         message.info(data.message);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return  Promise.reject(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }else{ //resCode成功")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return response;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return response;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }, function (error) {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // 对响应错误做点什么")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return Promise.reject(error);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// });")]),t._v("\n\n")])])]),n("p",[t._v("+部门列表页面")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\views\\department\\List.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import React,{Component,Fragment}from "react";')]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //ANTD")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {Form ,Input,Button, Table,Switch, message}from "antd";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // API")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {GetList,Delete} from "../../api/department";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// class DepartmentList extends Component{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     constructor(props){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         super();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.state = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //请求参数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageNumber:1, //页数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageSize:10, //显示多少条")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             keyWork:"",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             selectedRowKeys:[],//复选框")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // 表头")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             columns:[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 { title:"部门名称",dataIndex:"name",key:"name"},')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     title:"禁启用",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     dataIndex:"status",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     key:"status",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         return <Switch checkedChildren="开启" unCheckedChildren="关闭" defaultChecked={rowData.status ==="1"? true : false }></Switch>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 },")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 { title:"人员数量",dataIndex:"number",key:"number"},')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     title:"操作",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     dataIndex:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     key:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     width:215,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         <div className="inline-button">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                             <Button type="primary">编辑</Button>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                             <Button type="danger" onClick={()=>this.onHandlerDelete(rowData.id)}>删除</Button>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         </div>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     ) ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 },")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             ],")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //表的数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             data:[")]),t._v("\n                    \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             ]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //生命周期挂载完成")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     componentDidMount = ()=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.loaddata()")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //获取数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     loaddata = ()=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const {pageNumber,pageSize,keyWork} = this.state")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const requestData = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageNumber:pageNumber,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageSize:pageSize,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(keyWork){ requestData.name = keyWork }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         GetList(requestData).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             const responseData = response.data.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //   console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(responseData.data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 data:responseData.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // 搜索")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onFinish=(value)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             keyWork:value.name,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageNumber:1, ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageSize:10, ")]),t._v("\n                \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // //重新获取数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.loaddata()")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // console.log(111);")]),t._v("\n        \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     /**复选框 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onChangebox = (selectedRowKeys )=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             selectedRowKeys")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // console.log(selectedRowKeys);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //删除")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onHandlerDelete = (id) =>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // console.log(id);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(id){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         Delete({id:id}).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             message.info(response.data.message);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //请求数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.loaddata();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const {columns,data} = this.state")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const rowSelection = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             onChange: this.onChangebox")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             <Fragment>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Form layout="inline" onFinish={this.onFinish}>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     <Form.Item label="部门名称"  name="name"  >')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         <Input placeholder="请输入部门名称" />')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     <Form.Item shouldUpdate={true}  >")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         <Button type="primary" htmlType="submit">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                             搜索")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         </Button>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <div className="table-wrap">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     <Table rowSelection={rowSelection} rowKey ="id" columns={columns} dataSource={data} bordered>  </Table>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </div>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Fragment>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         )")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default DepartmentList;")]),t._v("\n\n\n")])])]),n("h2",{attrs:{id:"react传参方式-3种"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#react传参方式-3种"}},[t._v("#")]),t._v(" React传参方式(3种)")]),t._v(" "),n("ol",[n("li",[t._v("params传参(刷新页面后参数不消失,参数在地址栏里显示)\n")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//react\\react-admin\\src\\views\\department\\List.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {Link} from "react-react-dom";')]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     title:"操作",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     dataIndex:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     key:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     width:215,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         <div className="inline-button">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <Button type="primary" onClick={()=>this.onHandlerEdit(rowData.id)}>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 <Link to={'/index/department/add?id='+rowData.id}>编辑</Link>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Button>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         </div>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     ) ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// },")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  //react\\react-admin\\src\\views\\department\\Add.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// componentDidMount(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     console.log(this.props.location.state.id);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("query传参(刷新页面参数消失)")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //react\\react-admin\\src\\views\\department\\List.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {Link} from "react-react-dom";')]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     title:"操作",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     dataIndex:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     key:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     width:215,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         <div className="inline-button">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <Button type="primary" onClick={()=>this.onHandlerEdit(rowData.id)}>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Link to={{pathname:"/index/department/add",query:{id:rowData.id}}}>编辑</Link>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Button>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         </div>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     ) ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// },")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  //react\\react-admin\\src\\views\\department\\Add.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// componentDidMount(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     console.log(this.props.location.query.id);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("query传参(刷新页面参数不消失,state传参是加密的)")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//react\\react-admin\\src\\views\\department\\List.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {Link} from "react-react-dom";')]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     title:"操作",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     dataIndex:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     key:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     width:215,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         <div className="inline-button">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <Button type="primary" onClick={()=>this.onHandlerEdit(rowData.id)}>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Link to={{pathname:"/index/department/add",sate:{id:rowData.id}}}>编辑</Link>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Button>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         </div>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     ) ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// },")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  //react\\react-admin\\src\\views\\department\\Add.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// componentDidMount(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     console.log(this.props.location.sate.id);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"删除-编辑"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除-编辑"}},[t._v("#")]),t._v(" 删除/编辑")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\api\\department.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//新增三个接口")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n    * 禁用启用切换\n    */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function Status(data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return service.request({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         url:"/department/status/",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         method:"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data, //请求了类型为post时")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// * 详情")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function Detailed(data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return service.request({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         url:"/department/detailed/",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         method:"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data, //请求了类型为post时")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// * 编辑")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function Edit(data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return service.request({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         url:"/department/edit/",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         method:"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data, //请求了类型为post时")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("列表页面")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\views\\department\\List.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import React,{Component,Fragment}from "react";')]),t._v("\n\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ANTD")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {Form ,Input,Button, Table,Switch, message,Modal}from "antd";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // API")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {GetList,Delete,Status} from "../../api/department";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import { Link } from "react-router-dom";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n\n\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// class DepartmentList extends Component{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     constructor(props){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         super();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.state = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //请求参数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageNumber:1, //页数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageSize:10, //显示多少条")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             keyWork:"",')]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// selectedRowKeys:[],//复选框")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// visible:false,// 删除警告弹框")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// showPromiseConfirm:false,// 堂创确定按钮")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// id:"",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n\n\n\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 表头")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// columns:[")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     { title:"部门名称",dataIndex:"name",key:"name"},')]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     { ")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         title:"禁启用",')]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         dataIndex:"status",')]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         key:"status",')]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         render:(text,rowData)=>{")]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n\n                            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// return <Switch onChange={()=>this.onHandSwitch(rowData)} checkedChildren="开启" unCheckedChildren="关闭" defaultChecked={rowData.status ==="1"? true : false }></Switch>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n\n\n\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// },")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// { title:"人员数量",dataIndex:"number",key:"number"},')]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { ")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     title:"操作",')]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     dataIndex:"operation",')]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     key:"operation",')]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     width:215,")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render:(text,rowData)=>{")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return(")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         <div className="inline-button">')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// *********************************************************************************************")]),t._v("\n\n                                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// <Button type="primary">')]),t._v("\n                                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     <Link to={{pathname:"/index/department/add",state:{id:rowData.id}}}>编辑</Link>')]),t._v("\n                                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// </Button>")]),t._v("\n                                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// <Button type="danger" onClick={()=>this.onHandlerDelete(rowData.id)}>删除</Button>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     </div>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 ) ")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             },")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         ],")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //表的数据")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data:[")]),t._v("\n                    \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         ]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//生命周期挂载完成")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// componentDidMount = ()=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.loaddata()")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //获取数据")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// loaddata = ()=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const {pageNumber,pageSize,keyWork} = this.state")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const requestData = {")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageNumber:pageNumber,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageSize:pageSize,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(keyWork){ requestData.name = keyWork }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     GetList(requestData).then(response=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const responseData = response.data.data")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //   console.log(response);")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(responseData.data){")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             data:responseData.data")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // 搜索")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// onFinish=(value)=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         keyWork:value.name,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageNumber:1, ")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageSize:10, ")]),t._v("\n                \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // //重新获取数据")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.loaddata()")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // console.log(111);")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /**复选框 */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// onChangebox = (selectedRowKeys )=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         selectedRowKeys")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // console.log(selectedRowKeys);")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//*********************************************************************************************")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onHandlerDelete(id){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // console.log(id);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!id){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             visible:true,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             id")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n        \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     /**删除警告弹框 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     modalThen=()=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         Delete({id:this.state.id}).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             message.info(response.data.message);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 visible:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 id:"",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 showPromiseConfirm:false")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //请求数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.loaddata();")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //禁用启用")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onHandSwitch(data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!data.status){return false;}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const requesData = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             id:data.id,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             status:data.status === "1"?false:true')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         Status().then(response =>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             message.info(response.data.message)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //编辑")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //*********************************************************************************************")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const {columns,data} = this.state")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const rowSelection = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             onChange: this.onChangebox")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             <Fragment>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Form layout="inline" onFinish={this.onFinish}>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     <Form.Item label="部门名称"  name="name"  >')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         <Input placeholder="请输入部门名称" />')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     <Form.Item shouldUpdate={true}  >")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         <Button type="primary" htmlType="submit">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                             搜索")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         </Button>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     </Form.Item>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <div className="table-wrap">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     <Table rowSelection={rowSelection} rowKey ="id" columns={columns} dataSource={data} bordered>  </Table>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </div>")]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //*********************************************************************************************")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 <Modal")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     title="提示"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     visible={this.state.visible}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     onOk={this.modalThen}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     onCancel={()=>{this.setState({visible:false})}}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     showPromiseConfirm={this.state.showPromiseConfirm}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     okText="确认"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     cancelText="取消"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     >")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     <p className="text-center">确认删除此信息吗,<strong className="color-red">删除后无法恢复</strong></p>')]),t._v("\n                        \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Modal>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //*********************************************************************************************")]),t._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Fragment>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         )")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default DepartmentList;")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("从列表跳至添加页面其实是编辑,添加及更改了一些方法")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\\src\\views\\department\\Add.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //API")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import { DepartmentAdd,Detailed,Edit } from "../../api/department";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// class AddDepartment extends Component{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     constructor(props){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         super();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.state={")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             loading:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             id:"",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             fromLayout:{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 labelCol:{span:2} ,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 wrapperCol:{span:20} ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //存储id避免Detailed传值写的过长")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     componentWillMount(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(this.props.location.state.id){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 id:this.props.location.state.id")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //接受List传过来的参数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     componentDidMount(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.getDetailed()")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // console.log(this.props.location.state.id);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     getDetailed=()=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!this.props.location.state){return false;}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         Detailed({id:this.state.id}).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // const data = response.data.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // this.refs.form.setFieldsValue({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //     content: data.content,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //     name: data.name,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //     number:data.number,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //     status: data.status")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.refs.form.setFieldsValue(response.data.data)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onSubmit = (v) =>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!v.name){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             message.error("部门不能为空");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!v.number|| v.number ===0){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             message.error("人员数量不能为0");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(!v.content){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             message.error("描述不能为空");')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             return false;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             loading:true,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //确定按钮执行添加或者编辑")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.state.id?this.onHandlerAdd(v):this.onHandEdit(v)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     * 添加信息")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onHandlerAdd = (v)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         DepartmentAdd(v).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             const data = response.data;")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             message.info(data.message);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 loading:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //重置表单")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.refs.form.resetFields();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }).catch(error=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 loading:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n                \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     * 编辑信息")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onHandEdit = (v) =>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const responseData = v")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         responseData.id = this.state.id ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         Edit(responseData).then(response=>{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }).catch(error=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 loading:false")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     } ")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);