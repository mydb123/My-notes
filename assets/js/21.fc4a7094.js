(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{280:function(t,s,e){"use strict";e.r(s);var a=e(19),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"git-branch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-branch"}},[t._v("#")]),t._v(" git branch")]),t._v(" "),e("p",[t._v("查看所有分支：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch\n* master\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("当你执行 "),e("code",[t._v("git init")]),t._v(" 的时候，默认情况下 Git 就会创建 master 分支。")])]),t._v(" "),e("p",[t._v("若手动创建分支。执行 "),e("code",[t._v("git branch (branchname)")]),t._v(" 即可。例如：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch testing\n\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch\n* master\n  testing\n")])])]),e("p",[t._v("现在有了个新分支 "),e("strong",[t._v("testing")]),t._v("。")]),t._v(" "),e("p",[t._v("执行 "),e("code",[t._v("git checkout")]),t._v(" 命令，切换到"),e("strong",[t._v("testing")]),t._v("分支，删除"),e("strong",[t._v("3.txt")]),t._v("，并提交。例如：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ git checkout testing\nSwitched to branch 'testing'\n$ git rm 3.txt\nrm '3.txt'\n$ git commit -m  \"删除3.txt\"\n[testing 49db6c6] 删除3.txt\n 1 file changed, 1 deletion(-)\n delete mode 100644 3.txt\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("如果删除了"),e("strong",[t._v("3.txt")]),t._v("，但没有 "),e("code",[t._v("git commit")]),t._v("，当切换分支到"),e("strong",[t._v("master")]),t._v("再切换到"),e("strong",[t._v("testing")]),t._v("，会发现删除的"),e("strong",[t._v("3.txt")]),t._v("又回来了。这是因为"),e("code",[t._v("git rm")]),t._v("只删除了"),e("strong",[t._v("工作区")]),t._v("的文件，没有删除"),e("strong",[t._v("暂存区")]),t._v("的文件。当再执行"),e("code",[t._v("git checkout")]),t._v("切换分支时，不但会清除工作区中未提交的改动，也会清除暂存区中未提交的改动。")])]),t._v(" "),e("h2",{attrs:{id:"git-checkout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-checkout"}},[t._v("#")]),t._v(" git checkout")]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("git checkout -b (branchname)")]),t._v("来创建新分支并立即切换到该分支:")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b newtest\nSwitched to a new branch "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newtest'")]),t._v("\n")])])]),e("p",[t._v("使用分支将工作切分开来，从而让我们能够在不同开发环境中做事，并来回切换。")]),t._v(" "),e("p",[t._v("删除"),e("strong",[t._v("newtest")]),t._v("分支：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -D newtest\nDeleted branch newtest "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("was 49db6c6"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n")])])]),e("h2",{attrs:{id:"git-merge"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-merge"}},[t._v("#")]),t._v(" git merge")]),t._v(" "),e("p",[t._v("一旦某分支有了独立内容，你终究会希望将它合并回到你的主分支。")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge testing\nRemoving "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".txt\nMerge made by the "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'recursive'")]),t._v(" strategy.\n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".txt "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" -\n "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changed, "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" deletion"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n delete mode "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(".txt\n")])])]),e("p",[t._v("但是一旦存在冲突，")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge change_site\nAuto-merging "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".txt\nCONFLICT "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("content"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": Merge conflict "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".txt\nAutomatic merge failed"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" fix conflicts and "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" commit the result.\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status -s\nUU "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(".txt\n")])])]),e("p",[t._v("手动解决冲突。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<<<<<<< HEAD\nmaster主分支修改11行\n=======\nchange_site分支中修改11行\n>>>>>>> change_site\n")])])]),e("p",[t._v("编辑完冲突后，重新提交"),e("code",[t._v("git commit -am '冲突解决'")]),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"git-rebase"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-rebase"}},[t._v("#")]),t._v(" git rebase")]),t._v(" "),e("p",[t._v("与 "),e("code",[t._v("git merge")]),t._v(" 不同的是，"),e("code",[t._v("git rebase")]),t._v(" 会将所有的提交形成一条历史直线。\n例如，有两个分支"),e("strong",[t._v("master")]),t._v("和"),e("strong",[t._v("dev")]),t._v("，当在"),e("strong",[t._v("dev")]),t._v("上执行：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rebase master\n")])])]),e("p",[e("strong",[t._v("dev")]),t._v("历史树为成为一条直线。\n遇到冲突时解决后，执行：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rebase --continue\n")])])]),e("p",[t._v("会继续应用余下的补丁。然后再切换到"),e("strong",[t._v("master")]),t._v("分支执行"),e("code",[t._v("git merge dev")])]),t._v(" "),e("p",[e("strong",[t._v("注意：")]),e("code",[t._v("git rebase")]),t._v(" 是一个比较危险的操作，它会重写历史，建议只在自己的分支上使用，不要在公共分支上使用它。")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("使用规则：\n当本地 master 分支和远端不一致，需要切换到本地 master 分支，并"),e("code",[t._v("git pull")]),t._v("，然后切换到你自己的分支，执行"),e("code",[t._v("git rebase master")]),t._v("，如果有冲突则解决后重新"),e("code",[t._v("git add .")]),t._v("，并执行"),e("code",[t._v("git rebase --continue")]),t._v("，之后就可以申请合并到主分支了。")])])])}),[],!1,null,null,null);s.default=n.exports}}]);