(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{296:function(t,s,n){"use strict";n.r(s);var e=n(19),a=Object(e.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"原版list组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#原版list组件"}},[t._v("#")]),t._v(" 原版List组件")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\views\\department\\List.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 分离table前的部门列表组件")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import React,{Component,Fragment}from "react";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ANTD")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//import {Form ,Input,Button, Table,Switch, message,Modal}from "antd";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// API")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//import {GetList,Delete,Status} from "../../api/department";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//import { Link } from "react-router-dom";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//table 组件")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import TableComponent from "@c/tableData/Index";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// class DepartmentList extends Component{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     constructor(props){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         super();")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.state = {")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             loadingTable:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //请求参数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageNumber:1, //页数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageSize:10, //显示多少条")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             keyWork:"",')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             selectedRowKeys:[],//复选框")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             visible:false,// 删除警告弹框")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             showPromiseConfirm:false,// 堂创确定按钮")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             id:"",')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // 表头")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             columns:[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 { title:"部门名称",dataIndex:"name",key:"name"},')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     title:"禁启用",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     dataIndex:"status",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     key:"status",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         return <Switch onChange={()=>this.onHandSwitch(rowData)} loading={rowData.id ==this.state.id} checkedChildren="开启" unCheckedChildren="关闭" defaultChecked={rowData.status ==="1"? true : false }></Switch>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 },")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 { title:"人员数量",dataIndex:"number",key:"number"},')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     title:"操作",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     dataIndex:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     key:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     width:215,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         <div className="inline-button">')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                             <Button type="primary">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                                 <Link to={{pathname:"/index/department/add",state:{id:rowData.id}}}>编辑</Link>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                             </Button>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                             <Button type="danger" onClick={()=>this.onHandlerDelete(rowData.id)}>删除</Button>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         </div>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     ) ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 },")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             ],")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //表的数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             data:[")]),t._v("\n                    \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             ]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//生命周期挂载完成")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// componentDidMount = ()=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.loaddata()")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取数据")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// loaddata = ()=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const {pageNumber,pageSize,keyWork} = this.state")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const requestData = {")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageNumber:pageNumber,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageSize:pageSize,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(keyWork){ requestData.name = keyWork }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({loadingTable:true})")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     GetList(requestData).then(response=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const responseData = response.data.data")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //   console.log(response);")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(responseData.data){")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             data:responseData.data")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({loadingTable:false})")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }).catch(error=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({loadingTable:false})")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 搜索")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// onFinish=(value)=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(this.state.loadingTable){return false;}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         keyWork:value.name,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageNumber:1, ")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         pageSize:10, ")]),t._v("\n                \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //重新获取数据")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loaddata")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(111);")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**复选框 */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// onChangebox = (selectedRowKeys )=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         selectedRowKeys")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     // console.log(selectedRowKeys);")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//删除")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// onHandlerDelete(id){")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(!id){")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         if(this.state.selectedRowKeys.length === 0){  return false; }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         id =this.state.selectedRowKeys.join();")]),t._v("\n                \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         visible:true,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         id")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**删除警告弹框 */")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// modalThen=()=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     Delete({id:this.state.id}).then(response=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // console.log(response);")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         message.info(response.data.message);")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.setState({")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             visible:false,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             id:"",')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             showPromiseConfirm:false,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             selectedRowKeys:[]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //请求数据")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.loaddata();")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //禁用启用")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// onHandSwitch(data){")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     if(!data.status){return false;}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const requesData = {")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         id:data.id,")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         status:data.status === "1"?false:true')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     this.setState({ id:data.id })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     Status(requesData).then(response =>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         message.info(response.data.message)")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         this.setState({ id:"" })')]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }).catch(error=>{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         this.setState({ id:"" })')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//---------------------编辑---------------------")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// render(){")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const {columns,data,loadingTable} = this.state")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     const rowSelection = {")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         onChange: this.onChangebox")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return(")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         <Fragment>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <Form layout="inline" onFinish={this.onFinish}>')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Form.Item label="部门名称"  name="name"  >')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     <Input placeholder="请输入部门名称" />')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form.Item>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 <Form.Item shouldUpdate={true}  >")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     <Button type="primary" htmlType="submit">')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         搜索")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     </Button>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 </Form.Item>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Form>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <div className="table-wrap">')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 {/* <TableComponent  /> */}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <Table loading={loadingTable} rowSelection={rowSelection} rowKey ="id" columns={columns} dataSource={data} bordered>  </Table>')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 <Button onClick={()=>this.onHandlerDelete()}>批量删除</Button>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </div>")]),t._v("\n                    \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             <Modal")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 title="提示"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 visible={this.state.visible}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 onOk={this.modalThen}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 onCancel={()=>{this.setState({visible:false})}}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 showPromiseConfirm={this.state.showPromiseConfirm}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 okText="确认"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 cancelText="取消"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 >")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 <p className="text-center">确认删除此信息吗,<strong className="color-red">删除后无法恢复</strong></p>')]),t._v("\n                        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             </Modal>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         </Fragment>")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     )")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default DepartmentList; ")]),t._v("\n\n\n")])])]),n("h2",{attrs:{id:"分离组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分离组件"}},[t._v("#")]),t._v(" 分离组件")]),t._v(" "),n("ul",[n("li",[t._v("新建文件")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\api\\common.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import service from "../../src/utils/requets";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// * 部门列表")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export function TableList(params){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return service.request({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         url:params.url,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//         method:params.method||"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         data:params.data, //请求了类型为post时")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("新建抽离api路径")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\api\\requestUrl.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const requestUrl = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     "departementList":"/department/list/"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default requestUrl;")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("简单抽离并不完全")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//新建文件")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\components\\tableData\\Index.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import React ,{Component}from "react";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //ANTD")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {Form ,Input,Button, Table,Switch, message,Modal}from "antd";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // API")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import {TableList} from "@api/common";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //url")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import requestUrl from "@api/requestUrl";')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// class TableComponent extends Component{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     constructor(props){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         super(props);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.state={")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //请求参数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageNumber:1, //页数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             pageSize:10, //显示多少条")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             keyWork:"",')]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             loadingTable:false,//加载提示")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             //数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             data:[],")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     componentDidMount = ()=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // console.log(requestUrl);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         this.loaddata()")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     //获取列表数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     loaddata = ()=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const {pageNumber,pageSize,keyWork} = this.state")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // const requestData = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //     pageNumber:pageNumber,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //     pageSize:pageSize,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // if(keyWork){ requestData.name = keyWork }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // this.setState({loadingTable:true})")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         // requestData.url = this.props.config.url")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const requestData = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             url:requestUrl[this.props.config.url],")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             method:this.props.config.method,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             methods: "post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             data: {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 pageNumber:pageNumber,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 pageSize:pageSize,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             },")]),t._v("\n            \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         TableList(requestData).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             const responseData = response.data.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             // console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             if(responseData.data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     data:responseData.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({loadingTable:false})")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }).catch(error=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             this.setState({loadingTable:false})")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n        \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     /**")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     * 复选框 ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     * ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     onChangebox = (value)=>{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     render(){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const {loadingTable} = this.state")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const {thead,checkbox,rowKey} = this.props.config")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         const rowSelection = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             onChange: this.onChangebox")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         return (")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             <Table loading={loadingTable} rowKey={rowKey||"id"} rowSelection={checkbox?rowSelection:null} columns={thead} dataSource={this.state.data} bordered></Table>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         )")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// export default TableComponent;")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("删除List.js中多余部分及其添加")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//显示为添加注释为删除")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//src\\views\\department\\List.js")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//table 组件")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// import TableComponent from "@c/tableData/Index";')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.state = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         loadingTable:false,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         //请求参数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         tableConfig:{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             url:"departementList",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             methods:"post",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             checkbox:true,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//             rowkey:"id",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             thead:[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 { title:"部门名称",dataIndex:"name",key:"name"},')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     title:"禁启用",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     dataIndex:"status",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     key:"status",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         return <Switch onChange={()=>this.onHandSwitch(rowData)} loading={rowData.id ==this.state.id} checkedChildren="开启" unCheckedChildren="关闭" defaultChecked={rowData.status ==="1"? true : false }></Switch>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 },")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                 { title:"人员数量",dataIndex:"number",key:"number"},')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 { ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     title:"操作",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     dataIndex:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                     key:"operation",')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     width:215,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     render:(text,rowData)=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                        return(")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                         <div className="inline-button">')]),t._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                             <Button type="primary">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                                 <Link to={{pathname:"/index/department/add",state:{id:rowData.id}}}>编辑</Link>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                             </Button>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//                             <Button type="danger" onClick={()=>this.onHandlerDelete(rowData.id)}>删除</Button>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                         </div>")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     ) ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//                 },")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//             ]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         },")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //获取数据")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // loaddata = ()=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     const {pageNumber,pageSize,keyWork} = this.state")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     const requestData = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //         pageNumber:pageNumber,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //         pageSize:pageSize,")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     if(keyWork){ requestData.name = keyWork }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     GetList(requestData).then(response=>{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //         const responseData = response.data.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     //   console.log(response);")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //       if(responseData.data){")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //           this.setState({")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //               data:responseData.data")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //           })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //       }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     })")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // }")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// // const {columns,data} = this.state")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     const rowSelection = {")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //         onChange: this.onChangebox")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// //     }")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// <div className="table-wrap">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     <TableComponent  config={this.state.tableConfig} />")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//     // <Table rowSelection={rowSelection} rowKey ="id" columns={columns} dataSource={data} bordered>  </Table>')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// </div>")]),t._v("\n    \n")])])]),n("h2",{attrs:{id:"数据类型检测"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据类型检测"}},[t._v("#")]),t._v(" 数据类型检测")]),t._v(" "),n("ul",[n("li",[t._v('import PropTypes from "prop-types";')])]),t._v(" "),n("p",[t._v("PropTypes提供一系列验证器,可确保组件接受的数据类型是真实有效的.在本例中我们使用了PropTypes String.当传入的prop值类型不正确时,javaScript控制台会报错")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//校验数据类型")]),t._v("\n    MyComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("propTypes "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//你可以将属性声明为js原生类型,默认情况下这些属性都是可选的")]),t._v("\n        optionalArray"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        optionalBool"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        optionalFunc"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("func"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        optionalNumber"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        optionalObject"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        optionalString"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("PropTypes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//默认值")]),t._v("\n    MyComponent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultProps"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        batchButton"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"state里数据要异步"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#state里数据要异步"}},[t._v("#")]),t._v(" state里数据要异步")]),t._v(" "),n("p",[t._v("当立即改变"),n("code",[t._v("state")]),t._v("里面的值时候要在"),n("code",[t._v("setState")]),t._v("里进行异步处理例子如下:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        pageNumber"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("value\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);