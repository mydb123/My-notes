<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>three | notes</title>
    <meta name="description" content="notes">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/My-notes/icons/favicon.ico">
  <link rel="manifest" href="/My-notes/manifest.json">
    
    <link rel="preload" href="/My-notes/assets/css/0.styles.5acd7f6f.css" as="style"><link rel="preload" href="/My-notes/assets/js/app.6e43d320.js" as="script"><link rel="preload" href="/My-notes/assets/js/2.a0b16310.js" as="script"><link rel="preload" href="/My-notes/assets/js/39.c747bd3e.js" as="script"><link rel="preload" href="/My-notes/assets/js/3.d5588be5.js" as="script"><link rel="prefetch" href="/My-notes/assets/js/10.7aadc58a.js"><link rel="prefetch" href="/My-notes/assets/js/11.b4e1d08a.js"><link rel="prefetch" href="/My-notes/assets/js/12.0622404e.js"><link rel="prefetch" href="/My-notes/assets/js/13.16a73702.js"><link rel="prefetch" href="/My-notes/assets/js/14.7760d2a2.js"><link rel="prefetch" href="/My-notes/assets/js/15.5ed021fc.js"><link rel="prefetch" href="/My-notes/assets/js/16.ae48022e.js"><link rel="prefetch" href="/My-notes/assets/js/17.b4f283e0.js"><link rel="prefetch" href="/My-notes/assets/js/18.eab48c79.js"><link rel="prefetch" href="/My-notes/assets/js/19.9e33ace1.js"><link rel="prefetch" href="/My-notes/assets/js/20.bbd68983.js"><link rel="prefetch" href="/My-notes/assets/js/21.e359b895.js"><link rel="prefetch" href="/My-notes/assets/js/22.5d656200.js"><link rel="prefetch" href="/My-notes/assets/js/23.dbf290ae.js"><link rel="prefetch" href="/My-notes/assets/js/24.1656276c.js"><link rel="prefetch" href="/My-notes/assets/js/25.02672a6d.js"><link rel="prefetch" href="/My-notes/assets/js/26.cfd7ebac.js"><link rel="prefetch" href="/My-notes/assets/js/27.8b9abcef.js"><link rel="prefetch" href="/My-notes/assets/js/28.088bad68.js"><link rel="prefetch" href="/My-notes/assets/js/29.6922eaab.js"><link rel="prefetch" href="/My-notes/assets/js/30.28e8ab7b.js"><link rel="prefetch" href="/My-notes/assets/js/31.437c6a41.js"><link rel="prefetch" href="/My-notes/assets/js/32.2a1c6394.js"><link rel="prefetch" href="/My-notes/assets/js/33.39d85b34.js"><link rel="prefetch" href="/My-notes/assets/js/34.4fa64215.js"><link rel="prefetch" href="/My-notes/assets/js/35.2efb8c75.js"><link rel="prefetch" href="/My-notes/assets/js/36.0262a3d1.js"><link rel="prefetch" href="/My-notes/assets/js/37.b69c8145.js"><link rel="prefetch" href="/My-notes/assets/js/38.c813311d.js"><link rel="prefetch" href="/My-notes/assets/js/4.376e5792.js"><link rel="prefetch" href="/My-notes/assets/js/40.622d50e7.js"><link rel="prefetch" href="/My-notes/assets/js/41.a23e11f3.js"><link rel="prefetch" href="/My-notes/assets/js/42.3a41156b.js"><link rel="prefetch" href="/My-notes/assets/js/43.29c1ec29.js"><link rel="prefetch" href="/My-notes/assets/js/44.6fceb26d.js"><link rel="prefetch" href="/My-notes/assets/js/45.3e2b8043.js"><link rel="prefetch" href="/My-notes/assets/js/46.f77d79a5.js"><link rel="prefetch" href="/My-notes/assets/js/47.910f5738.js"><link rel="prefetch" href="/My-notes/assets/js/48.11a071e8.js"><link rel="prefetch" href="/My-notes/assets/js/49.8f1c0175.js"><link rel="prefetch" href="/My-notes/assets/js/5.5a688d0c.js"><link rel="prefetch" href="/My-notes/assets/js/50.3f45a8d3.js"><link rel="prefetch" href="/My-notes/assets/js/51.45b9961e.js"><link rel="prefetch" href="/My-notes/assets/js/52.f761051a.js"><link rel="prefetch" href="/My-notes/assets/js/53.c59cc8ac.js"><link rel="prefetch" href="/My-notes/assets/js/54.ef1496a4.js"><link rel="prefetch" href="/My-notes/assets/js/55.0d32b818.js"><link rel="prefetch" href="/My-notes/assets/js/56.f19aa4ff.js"><link rel="prefetch" href="/My-notes/assets/js/57.4d58b88d.js"><link rel="prefetch" href="/My-notes/assets/js/58.4dadbea9.js"><link rel="prefetch" href="/My-notes/assets/js/59.1d114b77.js"><link rel="prefetch" href="/My-notes/assets/js/6.f345e186.js"><link rel="prefetch" href="/My-notes/assets/js/60.66ba3ff9.js"><link rel="prefetch" href="/My-notes/assets/js/61.332d1968.js"><link rel="prefetch" href="/My-notes/assets/js/62.e58cf6e9.js"><link rel="prefetch" href="/My-notes/assets/js/63.65f9d9b8.js"><link rel="prefetch" href="/My-notes/assets/js/64.98a67591.js"><link rel="prefetch" href="/My-notes/assets/js/65.2c3bd21f.js"><link rel="prefetch" href="/My-notes/assets/js/66.645bd185.js"><link rel="prefetch" href="/My-notes/assets/js/67.a4914cd8.js"><link rel="prefetch" href="/My-notes/assets/js/68.4339a639.js"><link rel="prefetch" href="/My-notes/assets/js/69.9c065f5c.js"><link rel="prefetch" href="/My-notes/assets/js/7.93549bb8.js"><link rel="prefetch" href="/My-notes/assets/js/70.6d1e8736.js"><link rel="prefetch" href="/My-notes/assets/js/71.e4795336.js"><link rel="prefetch" href="/My-notes/assets/js/72.8bfd77f6.js"><link rel="prefetch" href="/My-notes/assets/js/73.23920f7f.js"><link rel="prefetch" href="/My-notes/assets/js/74.b9f16de6.js"><link rel="prefetch" href="/My-notes/assets/js/75.bd959a90.js"><link rel="prefetch" href="/My-notes/assets/js/76.6eee67de.js"><link rel="prefetch" href="/My-notes/assets/js/77.2e2edadf.js"><link rel="prefetch" href="/My-notes/assets/js/78.6b6943d6.js"><link rel="prefetch" href="/My-notes/assets/js/79.5841a5a9.js"><link rel="prefetch" href="/My-notes/assets/js/8.7674507a.js"><link rel="prefetch" href="/My-notes/assets/js/80.5fd1f9da.js"><link rel="prefetch" href="/My-notes/assets/js/81.83c3117c.js"><link rel="prefetch" href="/My-notes/assets/js/82.22674031.js"><link rel="prefetch" href="/My-notes/assets/js/83.a67bb2e3.js"><link rel="prefetch" href="/My-notes/assets/js/84.8ddc9a19.js"><link rel="prefetch" href="/My-notes/assets/js/85.23396868.js"><link rel="prefetch" href="/My-notes/assets/js/86.764301bd.js"><link rel="prefetch" href="/My-notes/assets/js/87.19798bce.js"><link rel="prefetch" href="/My-notes/assets/js/88.121d0b25.js"><link rel="prefetch" href="/My-notes/assets/js/9.c2d910f0.js">
    <link rel="stylesheet" href="/My-notes/assets/css/0.styles.5acd7f6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/My-notes/" class="home-link router-link-active"><!----> <span class="site-name">notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/My-notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/My-notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/front/htmlcss/" class="nav-link">
  HtmlCss
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/webapi/" class="nav-link">
  WebAPI
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/jquery/" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/threejs/" class="nav-link router-link-active">
  ThreeJs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/backend/java/" class="nav-link">
  Java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/mobile/applets/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/mobile/application/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/tools/vscode/" class="nav-link">
  VSCode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/others/utils/" class="nav-link">
  Utils
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/recording/" class="nav-link">
  随心记
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/interview/" class="nav-link">
  面试宝典
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/javadeploy/" class="nav-link">
  java配置
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/standard/" class="nav-link">
  规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/project/project/" class="nav-link">
  项目
</a></li></ul></div></div> <a href="https://github.com/mydb123/My-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/My-notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/My-notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/front/htmlcss/" class="nav-link">
  HtmlCss
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/webapi/" class="nav-link">
  WebAPI
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/jquery/" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/threejs/" class="nav-link router-link-active">
  ThreeJs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/backend/java/" class="nav-link">
  Java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/mobile/applets/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/mobile/application/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/tools/vscode/" class="nav-link">
  VSCode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/others/utils/" class="nav-link">
  Utils
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/recording/" class="nav-link">
  随心记
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/interview/" class="nav-link">
  面试宝典
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/javadeploy/" class="nav-link">
  java配置
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/standard/" class="nav-link">
  规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/project/project/" class="nav-link">
  项目
</a></li></ul></div></div> <a href="https://github.com/mydb123/My-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>THREEJS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/My-notes/front/threejs/" class="sidebar-link">首页</a></li><li><a href="/My-notes/front/threejs/chapter_01.html" class="active sidebar-link">three</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#threejs在线编辑器" class="sidebar-link">threejs在线编辑器</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#案例分段解释" class="sidebar-link">案例分段解释</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#创建渲染器" class="sidebar-link">创建渲染器</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#创建相机" class="sidebar-link">创建相机</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#性能检测插件" class="sidebar-link">性能检测插件</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#scene场景" class="sidebar-link">scene场景</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#修改位置-3种方法" class="sidebar-link">修改位置(3种方法)</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#修改大小" class="sidebar-link">修改大小</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#修改模型转向" class="sidebar-link">修改模型转向</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#geometry几何体" class="sidebar-link">Geometry几何体</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#geometry和buffergeometry" class="sidebar-link">Geometry和BufferGeometry</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#调试工具" class="sidebar-link">调试工具</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#meshbasicmaterial材质" class="sidebar-link">MeshBasicMaterial材质</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#添加光" class="sidebar-link">添加光</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#camera相机" class="sidebar-link">Camera相机</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#相机插件" class="sidebar-link">相机插件</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#sprite-精灵" class="sidebar-link">sprite 精灵</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#points-粒子" class="sidebar-link">points 粒子</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#导入json模型" class="sidebar-link">导入json模型</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/threejs/chapter_01.html#gitf格式导入" class="sidebar-link">gitf格式导入</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="threejs在线编辑器"><a href="#threejs在线编辑器" class="header-anchor">#</a> threejs在线编辑器</h2> <p><code>https://threejs.org/editor/</code></p> <h2 id="案例分段解释"><a href="#案例分段解释" class="header-anchor">#</a> 案例分段解释</h2> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width='device-width', initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Three<span class="token punctuation">.</span>js案例<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        body<span class="token punctuation">{</span>
            margin<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        canvas<span class="token punctuation">{</span>
            width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
            height<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
            display<span class="token operator">:</span> block<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body onload<span class="token operator">=</span><span class="token string">&quot;init()&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> onload比ready执行晚一点 <span class="token operator">--</span><span class="token operator">&gt;</span>
    
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> cdn引入<span class="token operator">/</span>也可以下载引入 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.bootcss.com/three.js/92/three.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> fpx插件 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://www.wjceo.com/lib/js/libs/stats.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 调试工具插件 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.bootcss.com/dat-gui/0.7.1/dat.gui.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> 

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">//声明全局变量</span>
      <span class="token comment">//渲染器,    相机,场景,   物体,  材质,    网格,   fps</span>
    <span class="token keyword">var</span> renderer<span class="token punctuation">,</span>camera<span class="token punctuation">,</span>scene<span class="token punctuation">,</span>geometry<span class="token punctuation">,</span>material<span class="token punctuation">,</span>mesh<span class="token punctuation">,</span> stats<span class="token punctuation">;</span>

    <span class="token comment">//性能插件,监听fps</span>
    stats <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>stats<span class="token punctuation">.</span>dom<span class="token punctuation">)</span>


    <span class="token comment">//初始化渲染器</span>
    <span class="token keyword">function</span> <span class="token function">initRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化渲染器</span>
        renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置宽高</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加到dom结构里</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//初始化场景</span>
    <span class="token keyword">function</span> <span class="token function">initScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        scene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Scene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化场景</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//初始化相机</span>
    <span class="token keyword">function</span> <span class="token function">initCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span>window<span class="token punctuation">.</span>innerWidth <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化相机</span>
        camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//x,y,z</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//创建物体</span>
    <span class="token keyword">function</span> <span class="token function">initMesh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建几何体</span>
        material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshNormalMaterial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建材质,七彩材质(自带的)</span>

        mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span>material<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建网格组合起来</span>
        scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将网格添加到场景</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//运动动画</span>
    <span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//循环调用此函数</span>

        mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>x <span class="token operator">+=</span><span class="token number">0.01</span><span class="token punctuation">;</span><span class="token comment">//每帧网格模型的沿着x轴旋转0.01弧度</span>
        mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>y <span class="token operator">+=</span><span class="token number">0.02</span><span class="token punctuation">;</span><span class="token comment">//每帧网格模型的沿着y轴旋转0.02弧度</span>


        stats<span class="token punctuation">.</span><span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//fps使用</span>
        renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//渲染界面</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//创建环境光</span>
    <span class="token keyword">function</span> <span class="token function">initLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加了一个平行光</span>
        light<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置光的位置</span>
        scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>light<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加到场景</span>

        <span class="token comment">//添加一个全局环境光</span>
        scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AmbientLight</span><span class="token punctuation">(</span><span class="token number">0x222222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token comment">//初始化函数,页面加载完成时调用</span>
    <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//3d三要素</span>
        <span class="token function">initRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//渲染</span>
        <span class="token function">initScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//场景</span>
        <span class="token function">initCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//相机</span>

        <span class="token function">initLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//环境光</span>
        <span class="token function">initMesh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//物体</span>

        <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//旋转,动画</span>
    <span class="token punctuation">}</span>
    
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>

</code></pre></div><p>使用<code>Three.js</code>显示创建内容,我们必须需要三大件: 渲染器,相机和场景.相机获取到的场景内显示的内容,然后再通过渲染器渲染到画布上</p> <h2 id="创建渲染器"><a href="#创建渲染器" class="header-anchor">#</a> 创建渲染器</h2> <div class="language-js extra-class"><pre class="language-js"><code>     <span class="token keyword">function</span> <span class="token function">initRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>WebGLRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化渲染器</span>
        renderer<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置宽高</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加到dom结构里</span>
    <span class="token punctuation">}</span>
</code></pre></div><blockquote><p>第一行: 这是基于WebGL的渲染器
第二行: 调用了一个设置函数<code>setSize</code>方法,这个是设置我们需要显示的窗口大小,案例我们是基于浏览器全屏显示
第三行: <code>renderer.domElement</code>是在实例化渲染器生成的一个canvas画布,渲染器渲染界面生成的内容,都在这个画布上显示.所以,我们将这个画布添加到<code>dom</code>当中,来渲染内容</p></blockquote> <h2 id="创建相机"><a href="#创建相机" class="header-anchor">#</a> 创建相机</h2> <div class="language-js extra-class"><pre class="language-js"><code>     <span class="token keyword">function</span> <span class="token function">initCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span>window<span class="token punctuation">.</span>innerWidth <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化相机</span>
        camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><p><strong>Three.js里面有不同的相机,我们在这里使用到的是THREE.PerspectiveCamera,这个相机的效果是模拟人眼看到的效果,就是具有透视效果,近大远小</strong></p> <blockquote><p>第一行:我们实化了一个具体的相机,有四个值</p></blockquote> <ul><li>视野:当前值越大看的到的就越大,</li> <li>宽高比:就按照画布的宽高比来就好了</li> <li>近截面和远截面: 这个是设置相机可以看到场景内容的范围</li></ul> <blockquote><p>第二行: 我们设置了相机的位置</p></blockquote> <h2 id="性能检测插件"><a href="#性能检测插件" class="header-anchor">#</a> 性能检测插件</h2> <p>在<code>three.js</code>里面,遇到的问题就是性能问题,所以我们需要时刻检测当前<code>three.js</code>的性能.现在在<code>three.js</code>常用插件的一款插件<code>stats</code></p> <ol><li>引入
<code>&lt;script src=&quot;https://www.wjceo.com/lib/js/libs/stats.min.js&quot;&gt;&lt;/script&gt;</code></li> <li>我们要实例一个<code>status</code>对象,然后把对象内生成的<code>dom</code>添加到页面中.</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>      stats <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stats</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>stats<span class="token punctuation">.</span>dom<span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>调用</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>     <span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//循环调用此函数</span>
        stats<span class="token punctuation">.</span><span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//fps使用</span>
        renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//渲染界面</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="scene场景"><a href="#scene场景" class="header-anchor">#</a> scene场景</h2> <p>场景是我们每个<code>three.js</code>项目放置的容器,我们也可以拥有多个场景进行切换展示,你可以在场景内放置你的<strong>模型</strong>,<strong>灯光</strong>和<strong>照相机</strong>,还可以通过调整场景的位置,让场景内的所有内容都一起跟着调整位置.</p> <ol><li>THREE.Object3D
为了方便操作,<code>three.js</code>将每个能够直接添加到场景内的对象都继承至一个基类-<code>THREE.Object3D</code>,以后我们将继承至这个基类的对象称为3D对象,判断一个对象是否继承至<code>THREE.Object3D</code>,我们可以判断:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    obj <span class="token keyword">instanceof</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Object3D</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'renderer'</span><span class="token punctuation">,</span>rendererinstanceof <span class="token constant">THREE</span><span class="token punctuation">.</span>Object3D<span class="token punctuation">)</span>
    <span class="token comment">//继承就返回true,不继承false</span>
</code></pre></div><ol start="2"><li><p>向场景添加3d对象
<code>scene.add(mesh); //将网格添加到场景</code></p></li> <li><p>获取3D对象</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    object3D<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;firstObj&quot;</span> 
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>object3D<span class="token punctuation">)</span>
    scene<span class="token punctuation">.</span><span class="token function">getObjectByName</span><span class="token punctuation">(</span><span class="token string">&quot;firstObj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回第一个匹配的对象</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">//看创建物体的代码</span>
    mesh<span class="token punctuation">.</span>name<span class="token operator">=</span> <span class="token string">'lft'</span><span class="token punctuation">;</span>

     <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        
        <span class="token function">initRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 



    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scene<span class="token punctuation">.</span><span class="token function">getObjectByName</span><span class="token punctuation">(</span><span class="token string">&quot;lft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>删除3d对象
<code>mesh.visible = false //设置为false,模型就没了</code> <code>scene.remove(mesh) //将一个模型从场景删除</code></li></ol> <h2 id="修改位置-3种方法"><a href="#修改位置-3种方法" class="header-anchor">#</a> 修改位置(3种方法)</h2> <ul><li>单独设置</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">//将模型的位置调整x正轴到距离原点为3的位置</span>
    mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span>y <span class="token operator">+=</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">//将模型的y轴位置以当前的位置向上移动5个单位.</span>
     mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span>z <span class="token operator">-=</span><span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>一次性设置
<code>mesh.position.set(3,5,-6) //直接将模型设置在x轴为3,y轴为5,z轴为-6</code></p></li> <li><p>重新赋值一个对象
<code>mesh.position = new THREE.Vector3(3,5,-6)</code></p></li></ul> <h2 id="修改大小"><a href="#修改大小" class="header-anchor">#</a> 修改大小</h2> <ul><li>单独设置</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    mesh<span class="token punctuation">.</span>scale<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//模型沿着x轴方放大一倍</span>
    mesh<span class="token punctuation">.</span>scale<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span><span class="token comment">//模型沿着y轴方缩小一倍</span>
    mesh<span class="token punctuation">.</span>scale<span class="token punctuation">.</span>z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//模型沿着z轴方不变</span>
</code></pre></div><ul><li><p>一次性设置
<code>mesh.scale.set(2,2,2) //每个方向放大</code></p></li> <li><p>重新赋值一个对象
<code>mesh.scale = new THREE.Vector3(3,5,-6)</code></p></li></ul> <h2 id="修改模型转向"><a href="#修改模型转向" class="header-anchor">#</a> 修改模型转向</h2> <ul><li>单独设置</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>x <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">;</span><span class="token comment">//模型沿着x轴旋转180</span>
    mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>y <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//模型沿着y轴旋转360</span>
    mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>z <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//模型沿着z轴旋转90</span>
</code></pre></div><ul><li><p>一次性设置
<code>mesh.rotation.set(2,2,2)</code></p></li> <li><p>重新赋值一个对象
<code>mesh.rotation = new THREE.Euler(2,2,2,&quot;YZX&quot;)</code></p></li></ul> <h2 id="geometry几何体"><a href="#geometry几何体" class="header-anchor">#</a> Geometry几何体</h2> <p>几何体很多看官网</p> <h2 id="geometry和buffergeometry"><a href="#geometry和buffergeometry" class="header-anchor">#</a> Geometry和BufferGeometry</h2> <p>这个两个几何体都是用于储存模型的点位置,面的索引,法量向,颜色,ux纹理以及自定义属性
区别:</p> <ul><li>Geometry
<ul><li>使用了three.js提供的THREE.Vector3或者THREE.Color这样来储存数据的</li> <li>性能弱</li> <li>适合动画场景</li></ul></li> <li>BufferGeometry
<ul><li>储存数据原始</li> <li>性能好</li> <li>适合储存一些放入场景内不需要再额外操作的模型
<strong>可以相互转换</strong></li></ul></li></ul> <h2 id="调试工具"><a href="#调试工具" class="header-anchor">#</a> 调试工具</h2> <ol><li>引入
<code>&lt;script src=&quot;https://cdn.bootcss.com/dat-gui/0.7.1/dat.gui.min.js&quot;&gt;&lt;/script&gt;</code></li> <li>建一个对象,在里面设置我们需要修改的一些数据</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> controls <span class="token operator">=</span> <span class="token punctuation">{</span>
        positionX<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
        positionY<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
        positionZ<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>实例化dat.GUI对象,将需要修改的配置添加对象中,并监听变化回调</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>     <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>


         gui <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">dat<span class="token punctuation">.</span>GUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>controls<span class="token punctuation">,</span><span class="token string">&quot;positionX&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>updatePosition<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//只要数据变化机会触发onChange</span>
         gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>controls<span class="token punctuation">,</span><span class="token string">&quot;positionY&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>updatePosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
         gui<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>controls<span class="token punctuation">,</span><span class="token string">&quot;positionZ&quot;</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>updatePosition<span class="token punctuation">)</span><span class="token punctuation">;</span>

         <span class="token keyword">function</span> <span class="token function">updatePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
             mesh<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>controls<span class="token punctuation">.</span>positionX<span class="token punctuation">,</span>controls<span class="token punctuation">.</span>positionY<span class="token punctuation">,</span>controls<span class="token punctuation">.</span>positionZ<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>

</code></pre></div><h2 id="meshbasicmaterial材质"><a href="#meshbasicmaterial材质" class="header-anchor">#</a> MeshBasicMaterial材质</h2> <ol><li>MeshBasicMaterial
一个以简单着色（平面或线框）方式来绘制几何体的材质。这种材质不受光照的影响。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建几何体</span>
    material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshNormalMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>color<span class="token operator">:</span>ox00fffff<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建材质,七彩材质(自带的)</span>

    mesh <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span>material<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//创建网格组合起来</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mesh<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//将网格添加到场景</span>
</code></pre></div><ol start="2"><li>MeshNormalMaterial
一种把法向量映射到RGB颜色的材质</li> <li>LineBasicMaterial
一种用于绘制线框样式几何体的材质。</li></ol> <h2 id="添加光"><a href="#添加光" class="header-anchor">#</a> 添加光</h2> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加了一个平行光</span>
    scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AmbientLight</span><span class="token punctuation">(</span><span class="token number">0x222222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//给场景添加了一个全局光</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">initLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span><span class="token number">0xffffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加了一个平行光</span>
        light<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置光的位置</span>
        scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>light<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加到场景</span>

        <span class="token comment">//添加一个全局环境光</span>
        scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>AmbientLight</span><span class="token punctuation">(</span><span class="token number">0x222222</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
</code></pre></div><h2 id="camera相机"><a href="#camera相机" class="header-anchor">#</a> Camera相机</h2> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">initCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>PerspectiveCamera</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span>window<span class="token punctuation">.</span>innerWidth <span class="token operator">/</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化相机</span>
        camera<span class="token punctuation">.</span>position<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//x,y,z</span>
    <span class="token punctuation">}</span>

</code></pre></div><h2 id="相机插件"><a href="#相机插件" class="header-anchor">#</a> 相机插件</h2> <p>下载<code>https://github.com/mrdoob/three.js/blob/master/examples/js/controls/OrbitControls.js</code></p> <ol><li>选择相机,并且实例化</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">initControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        control <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>OrbitControls</span><span class="token punctuation">(</span>camera<span class="token punctuation">,</span>renderer<span class="token punctuation">.</span>domElement<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>执行init方法</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">//初始化函数,页面加载完成时调用</span>
    <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//3d三要素</span>
        <span class="token function">initRenderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//渲染</span>
        <span class="token function">initScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//场景</span>
        <span class="token function">initCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//相机</span>

        <span class="token function">initLight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//环境光</span>
        <span class="token function">initMesh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//物体</span>

        <span class="token function">initControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//相机插件</span>
        <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//旋转,动画</span>
    <span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>每一帧执行update</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">//运动动画</span>
    <span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//循环调用此函数</span>

        mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>x <span class="token operator">+=</span><span class="token number">0.01</span><span class="token punctuation">;</span><span class="token comment">//每帧网格模型的沿着x轴旋转0.01弧度</span>
        mesh<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>y <span class="token operator">+=</span><span class="token number">0.02</span><span class="token punctuation">;</span><span class="token comment">//每帧网格模型的沿着y轴旋转0.02弧度</span>


        stats<span class="token punctuation">.</span><span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//fps使用</span>
        control<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//渲染界面</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="sprite-精灵"><a href="#sprite-精灵" class="header-anchor">#</a> sprite 精灵</h2> <img src="/My-notes/front/threejs/精灵.jpg"> <h2 id="points-粒子"><a href="#points-粒子" class="header-anchor">#</a> points 粒子</h2> <p><code>http://www.webgl3d.cn/threejs/docs/#api/zh/objects/Points</code></p> <h2 id="导入json模型"><a href="#导入json模型" class="header-anchor">#</a> 导入json模型</h2> <ol><li>先从官方提供的编译器<code>export object</code>导出</li> <li></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">//创建物体</span>
    <span class="token keyword">function</span> <span class="token function">initMesh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">let</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>ObjectLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化ObjectLoader对象</span>

        loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;导入上面导出的路径&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">group</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        
    <span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>可能会出现跨域问题可以安装插件<code>Live.Server</code></li></ol> <h2 id="gitf格式导入"><a href="#gitf格式导入" class="header-anchor">#</a> gitf格式导入</h2> <p><code>https://sketchfab.com/3d-models?date=week&amp;features=downloadable&amp;sort_by=-likeCount&amp;cursor=bz0xJnA9MTY%3D</code>3d图像
下载点击图片有一个<code>Download 3D Model</code>点击就好了
<code>https://github.com/mrdoob/three.js/blob/master/examples/jsm/loaders/GLTFLoader.js</code>下载加载器
插件显示gitf的<code>fitf tools</code></p> <p><code>&lt;script src=&quot;导入下载包的路径GLTFLoader.js&quot;&gt;&lt;/script&gt;</code></p> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token comment">//创建物体</span>
   <span class="token keyword">function</span> <span class="token function">initMesh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token keyword">var</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>GLTFLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//实例化ObjectLoader对象</span>
       loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&quot;导入上面导出的路径.gltf的&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">group</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
           gltf<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>scale<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>gltf<span class="token punctuation">.</span>scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span><span class="token punctuation">)</span>
       
   <span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-11-18 09:20:36</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/My-notes/front/threejs/" class="prev router-link-active">
        首页
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/My-notes/assets/js/app.6e43d320.js" defer></script><script src="/My-notes/assets/js/2.a0b16310.js" defer></script><script src="/My-notes/assets/js/39.c747bd3e.js" defer></script><script src="/My-notes/assets/js/3.d5588be5.js" defer></script>
  </body>
</html>
