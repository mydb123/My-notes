<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>react登录注册二 | notes</title>
    <meta name="description" content="notes">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/My-notes/icons/favicon.ico">
  <link rel="manifest" href="/My-notes/manifest.json">
    
    <link rel="preload" href="/My-notes/assets/css/0.styles.5acd7f6f.css" as="style"><link rel="preload" href="/My-notes/assets/js/app.68fac0c7.js" as="script"><link rel="preload" href="/My-notes/assets/js/2.a0b16310.js" as="script"><link rel="preload" href="/My-notes/assets/js/32.2a1c6394.js" as="script"><link rel="preload" href="/My-notes/assets/js/3.d5588be5.js" as="script"><link rel="prefetch" href="/My-notes/assets/js/10.7aadc58a.js"><link rel="prefetch" href="/My-notes/assets/js/11.b4e1d08a.js"><link rel="prefetch" href="/My-notes/assets/js/12.0622404e.js"><link rel="prefetch" href="/My-notes/assets/js/13.16a73702.js"><link rel="prefetch" href="/My-notes/assets/js/14.7760d2a2.js"><link rel="prefetch" href="/My-notes/assets/js/15.1ecbed82.js"><link rel="prefetch" href="/My-notes/assets/js/16.dde570c1.js"><link rel="prefetch" href="/My-notes/assets/js/17.b4f283e0.js"><link rel="prefetch" href="/My-notes/assets/js/18.eab48c79.js"><link rel="prefetch" href="/My-notes/assets/js/19.9e33ace1.js"><link rel="prefetch" href="/My-notes/assets/js/20.bbd68983.js"><link rel="prefetch" href="/My-notes/assets/js/21.e359b895.js"><link rel="prefetch" href="/My-notes/assets/js/22.5d656200.js"><link rel="prefetch" href="/My-notes/assets/js/23.dbf290ae.js"><link rel="prefetch" href="/My-notes/assets/js/24.1656276c.js"><link rel="prefetch" href="/My-notes/assets/js/25.02672a6d.js"><link rel="prefetch" href="/My-notes/assets/js/26.cfd7ebac.js"><link rel="prefetch" href="/My-notes/assets/js/27.8b9abcef.js"><link rel="prefetch" href="/My-notes/assets/js/28.088bad68.js"><link rel="prefetch" href="/My-notes/assets/js/29.6922eaab.js"><link rel="prefetch" href="/My-notes/assets/js/30.28e8ab7b.js"><link rel="prefetch" href="/My-notes/assets/js/31.437c6a41.js"><link rel="prefetch" href="/My-notes/assets/js/33.39d85b34.js"><link rel="prefetch" href="/My-notes/assets/js/34.4fa64215.js"><link rel="prefetch" href="/My-notes/assets/js/35.2efb8c75.js"><link rel="prefetch" href="/My-notes/assets/js/36.0262a3d1.js"><link rel="prefetch" href="/My-notes/assets/js/37.b69c8145.js"><link rel="prefetch" href="/My-notes/assets/js/38.c813311d.js"><link rel="prefetch" href="/My-notes/assets/js/39.c747bd3e.js"><link rel="prefetch" href="/My-notes/assets/js/4.376e5792.js"><link rel="prefetch" href="/My-notes/assets/js/40.622d50e7.js"><link rel="prefetch" href="/My-notes/assets/js/41.a23e11f3.js"><link rel="prefetch" href="/My-notes/assets/js/42.3a41156b.js"><link rel="prefetch" href="/My-notes/assets/js/43.29c1ec29.js"><link rel="prefetch" href="/My-notes/assets/js/44.6fceb26d.js"><link rel="prefetch" href="/My-notes/assets/js/45.3e2b8043.js"><link rel="prefetch" href="/My-notes/assets/js/46.f77d79a5.js"><link rel="prefetch" href="/My-notes/assets/js/47.910f5738.js"><link rel="prefetch" href="/My-notes/assets/js/48.11a071e8.js"><link rel="prefetch" href="/My-notes/assets/js/49.8f1c0175.js"><link rel="prefetch" href="/My-notes/assets/js/5.5a688d0c.js"><link rel="prefetch" href="/My-notes/assets/js/50.3f45a8d3.js"><link rel="prefetch" href="/My-notes/assets/js/51.45b9961e.js"><link rel="prefetch" href="/My-notes/assets/js/52.f761051a.js"><link rel="prefetch" href="/My-notes/assets/js/53.d790a400.js"><link rel="prefetch" href="/My-notes/assets/js/54.ef1496a4.js"><link rel="prefetch" href="/My-notes/assets/js/55.8e27ff62.js"><link rel="prefetch" href="/My-notes/assets/js/56.3b8578c1.js"><link rel="prefetch" href="/My-notes/assets/js/57.d9ac0cf2.js"><link rel="prefetch" href="/My-notes/assets/js/58.482d94cc.js"><link rel="prefetch" href="/My-notes/assets/js/59.3a26d428.js"><link rel="prefetch" href="/My-notes/assets/js/6.f345e186.js"><link rel="prefetch" href="/My-notes/assets/js/60.fdf67ff8.js"><link rel="prefetch" href="/My-notes/assets/js/61.332d1968.js"><link rel="prefetch" href="/My-notes/assets/js/62.37ca8e63.js"><link rel="prefetch" href="/My-notes/assets/js/63.a85c95cd.js"><link rel="prefetch" href="/My-notes/assets/js/64.ca956cdb.js"><link rel="prefetch" href="/My-notes/assets/js/65.6c8594b6.js"><link rel="prefetch" href="/My-notes/assets/js/66.26239776.js"><link rel="prefetch" href="/My-notes/assets/js/67.a4914cd8.js"><link rel="prefetch" href="/My-notes/assets/js/68.d83a0575.js"><link rel="prefetch" href="/My-notes/assets/js/69.478011c5.js"><link rel="prefetch" href="/My-notes/assets/js/7.93549bb8.js"><link rel="prefetch" href="/My-notes/assets/js/70.a6f8f073.js"><link rel="prefetch" href="/My-notes/assets/js/71.959e2a73.js"><link rel="prefetch" href="/My-notes/assets/js/72.7d69a49d.js"><link rel="prefetch" href="/My-notes/assets/js/73.7cfa60af.js"><link rel="prefetch" href="/My-notes/assets/js/74.19453b4a.js"><link rel="prefetch" href="/My-notes/assets/js/75.e039f700.js"><link rel="prefetch" href="/My-notes/assets/js/76.7b8d5825.js"><link rel="prefetch" href="/My-notes/assets/js/77.99508091.js"><link rel="prefetch" href="/My-notes/assets/js/78.6b6943d6.js"><link rel="prefetch" href="/My-notes/assets/js/79.916133e7.js"><link rel="prefetch" href="/My-notes/assets/js/8.7674507a.js"><link rel="prefetch" href="/My-notes/assets/js/80.a4141c60.js"><link rel="prefetch" href="/My-notes/assets/js/81.384b927f.js"><link rel="prefetch" href="/My-notes/assets/js/82.ceaca1de.js"><link rel="prefetch" href="/My-notes/assets/js/83.b883f7ed.js"><link rel="prefetch" href="/My-notes/assets/js/84.8ddc9a19.js"><link rel="prefetch" href="/My-notes/assets/js/85.cce617c0.js"><link rel="prefetch" href="/My-notes/assets/js/86.000e6b7c.js"><link rel="prefetch" href="/My-notes/assets/js/87.19798bce.js"><link rel="prefetch" href="/My-notes/assets/js/88.121d0b25.js"><link rel="prefetch" href="/My-notes/assets/js/9.c2d910f0.js">
    <link rel="stylesheet" href="/My-notes/assets/css/0.styles.5acd7f6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/My-notes/" class="home-link router-link-active"><!----> <span class="site-name">notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/My-notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/My-notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/front/htmlcss/" class="nav-link">
  HtmlCss
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/webapi/" class="nav-link">
  WebAPI
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/jquery/" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/react/" class="nav-link router-link-active">
  React
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/threejs/" class="nav-link">
  ThreeJs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/backend/java/" class="nav-link">
  Java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/mobile/applets/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/mobile/application/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/tools/vscode/" class="nav-link">
  VSCode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/others/utils/" class="nav-link">
  Utils
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/recording/" class="nav-link">
  随心记
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/interview/" class="nav-link">
  面试宝典
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/javadeploy/" class="nav-link">
  java配置
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/standard/" class="nav-link">
  规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/project/project/" class="nav-link">
  项目
</a></li></ul></div></div> <a href="https://github.com/mydb123/My-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/My-notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/My-notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/front/htmlcss/" class="nav-link">
  HtmlCss
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/webapi/" class="nav-link">
  WebAPI
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/jquery/" class="nav-link">
  jQuery
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/react/" class="nav-link router-link-active">
  React
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/front/threejs/" class="nav-link">
  ThreeJs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/backend/java/" class="nav-link">
  Java
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="移动端" class="dropdown-title"><span class="title">移动端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/mobile/applets/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/mobile/application/" class="nav-link">
  uni-app
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发工具" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/tools/vscode/" class="nav-link">
  VSCode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/others/utils/" class="nav-link">
  Utils
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/recording/" class="nav-link">
  随心记
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/interview/" class="nav-link">
  面试宝典
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/javadeploy/" class="nav-link">
  java配置
</a></li><li class="dropdown-item"><!----> <a href="/My-notes/others/standard/" class="nav-link">
  规范
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/My-notes/project/project/" class="nav-link">
  项目
</a></li></ul></div></div> <a href="https://github.com/mydb123/My-notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>REACT</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/My-notes/front/react/" class="sidebar-link">首页</a></li><li><a href="/My-notes/front/react/chapter_01.html" class="sidebar-link">react初始化</a></li><li><a href="/My-notes/front/react/chapter_02.html" class="sidebar-link">使用React</a></li><li><a href="/My-notes/front/react/chapter_03.html" class="sidebar-link">JSX语法</a></li><li><a href="/My-notes/front/react/chapter_04.html" class="sidebar-link">组件创建和传值</a></li><li><a href="/My-notes/front/react/chapter_05.html" class="sidebar-link">class关键字</a></li><li><a href="/My-notes/front/react/chapter_06.html" class="sidebar-link">React案例</a></li><li><a href="/My-notes/front/react/chapter_07.html" class="sidebar-link">React绑定和生命周期</a></li><li><a href="/My-notes/front/react/project_01.html" class="sidebar-link">react项目</a></li><li><a href="/My-notes/front/react/project_02.html" class="sidebar-link">react登录注册</a></li><li><a href="/My-notes/front/react/project_03.html" class="active sidebar-link">react登录注册二</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/My-notes/front/react/project_03.html#组件类型" class="sidebar-link">组件类型</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/react/project_03.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/react/project_03.html#抽离成组件" class="sidebar-link">抽离成组件</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/react/project_03.html#密码加密" class="sidebar-link">密码加密</a></li><li class="sidebar-sub-header"><a href="/My-notes/front/react/project_03.html#注册-登录" class="sidebar-link">注册/登录</a></li></ul></li><li><a href="/My-notes/front/react/project_04.html" class="sidebar-link">react首页</a></li><li><a href="/My-notes/front/react/project_05.html" class="sidebar-link">react列表系列</a></li><li><a href="/My-notes/front/react/project_06.html" class="sidebar-link">优化分离组件</a></li><li><a href="/My-notes/front/react/project_07.html" class="sidebar-link">分离组件添加部门</a></li><li><a href="/My-notes/front/react/project_08.html" class="sidebar-link">react结束</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="组件类型"><a href="#组件类型" class="header-anchor">#</a> 组件类型</h2> <ol><li><p>无状态组件
无状态(state)组件是最基础的组件形式,由于没有状态的影响所以就是纯静态展示的作用.属性(prors)加上一个渲染函数(render)</p></li> <li><p>有状态的组件
组件内部包含状态(state)且<strong>状态随着事件</strong>或者<strong>外部的消息</strong>而发生改变.有状态的组件通常会带有生命周期(lifecycle)</p></li> <li><p>ui组件
负责数据的渲染,通过属性props接受外部数据加上render函数</p></li> <li><p>容器组件
axios数据的获取以及处理逻辑上的事,不负责数据的渲染</p></li></ol> <h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <ul><li><p>组件将要加载 componentWillMount()组件加载前</p></li> <li><p>组件加载完成 componenDidMount()</p></li> <li><p>将要接受父组件传来的props componetnWillReceiveProps()</p></li> <li><p>子组件是不是应该更新 shouldComponentUpdate()</p></li> <li><p>组件将要更新 componentWillUpdate()</p></li> <li><p>组件更新完成 componentDidUpdate()</p></li> <li><p>组件即将销毁 componentWillUnmount()</p></li></ul> <h2 id="抽离成组件"><a href="#抽离成组件" class="header-anchor">#</a> 抽离成组件</h2> <ul><li>在<code>src</code>文件下新键<code>components</code>文件夹,在这里面接着新键<code>code</code>文件夹在新键<code>index.js</code></li> <li>删除<code>LoginFrom.js</code>文件被抽离的部分</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
    <span class="token comment">// src/components/code/index.js</span>
        <span class="token comment">//验证码的部分被抽离了</span>
    <span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span> 

    <span class="token comment">// ANTD</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span>message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

    <span class="token comment">//API</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>GetCode<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../api/account&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 校验规则</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>validate_email<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../utils/validate&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 定时器</span>
    <span class="token keyword">let</span> timer<span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//在外部我们得销毁定时器</span>

    <span class="token keyword">class</span> <span class="token class-name">Code</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//初始化默认值</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
                username<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                button_loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//发送中的状态</span>
                button_disabled<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//禁用和激活的状态</span>
                button_text<span class="token operator">:</span><span class="token string">&quot;获取验证码&quot;</span><span class="token punctuation">,</span>
                module<span class="token operator">:</span> props<span class="token punctuation">.</span>module

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//this.props.user 每次去获取值</span>
        <span class="token comment">//这里的username对应的是LoginFrom里等号左边的username</span>
        <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                username
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">/**销毁定时器组件 */</span>
        <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>

        <span class="token comment">//获取验证码</span>
        <span class="token function-variable function">getCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token comment">//因为这里下面有三处用道`this.state.username`所以改为自定义username</span>
            <span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>username<span class="token punctuation">)</span><span class="token punctuation">{</span>
                message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">'用户名不能为空'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">validate_email</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">'邮箱格式不正确'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 修改验证码状态</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                button_loading<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                button_text<span class="token operator">:</span><span class="token string">&quot;发送中&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">const</span> responseData <span class="token operator">=</span> <span class="token punctuation">{</span>
                username<span class="token punctuation">,</span>
                module<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>module
            <span class="token punctuation">}</span>
            <span class="token function">GetCode</span><span class="token punctuation">(</span>responseData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//倒计时函数</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">countDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    button_loading<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
                    button_text<span class="token operator">:</span><span class="token string">&quot;重新获取&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">/**倒计时 */</span> 
        <span class="token function-variable function">countDown</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token comment">// 定时时间</span>
            <span class="token keyword">let</span> sec <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                button_loading<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
                button_disabled<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                button_text<span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sec<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">S</span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token comment">// setInterval \clearInterval 不间断定时器</span>
            <span class="token comment">// setTimeout \clearTimeout 只执行一次</span>
            timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                sec <span class="token operator">--</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>sec<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        button_text<span class="token operator">:</span><span class="token string">&quot;重新获取&quot;</span><span class="token punctuation">,</span>
                        button_disabled<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>   
                <span class="token punctuation">}</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    button_text<span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sec<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">S</span><span class="token template-punctuation string">`</span></span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>

        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span> <span class="token operator">&lt;</span>Button  type<span class="token operator">=</span><span class="token string">&quot;danger&quot;</span> disabled<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>button_disabled<span class="token punctuation">}</span>  loading<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>button_loading<span class="token punctuation">}</span>   block  onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>getCode<span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>button_text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">export</span> <span class="token keyword">default</span> Code<span class="token punctuation">;</span>

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>
    <span class="token comment">//  src/views/login/RegisterFrom.js</span>
    <span class="token comment">//logfinFrom类似</span>
    <span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span>Fragment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
        
    <span class="token comment">// ANTD</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> Form<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Button<span class="token punctuation">,</span>Row<span class="token punctuation">,</span> Col <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span> UserOutlined<span class="token punctuation">,</span>LockOutlined  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

    <span class="token comment">//校验规则</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>validatse_pass<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../utils/validate&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//css</span>
    <span class="token keyword">import</span> <span class="token string">&quot;./index.scss&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// API</span>
    <span class="token keyword">import</span> <span class="token punctuation">{</span>Register<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../api/account&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//组件</span>
    <span class="token keyword">import</span> Code <span class="token keyword">from</span> <span class="token string">&quot;../../components/code/index&quot;</span><span class="token punctuation">;</span>


    <span class="token keyword">class</span> <span class="token class-name">RegisterFrom</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
                username<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                password<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                code<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                module<span class="token operator">:</span><span class="token string">&quot;register&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">/** input输入处理 */</span>
        <span class="token function-variable function">inputChangeUsername</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
            <span class="token comment">// 更新input输入框的值给上面state的username</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                username<span class="token operator">:</span> value<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">/** password 输入处理*/</span>
        <span class="token function-variable function">inputChangePassword</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
            <span class="token comment">// 更新input输入框的值给上面state的username</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                password<span class="token operator">:</span> value<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">/** Code 输入处理*/</span>
        <span class="token function-variable function">inputChangeCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> value <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
            <span class="token comment">// 更新input输入框的值给上面state的username</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                code<span class="token operator">:</span> value<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        

        <span class="token function-variable function">onFinish</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> requesData <span class="token operator">=</span> <span class="token punctuation">{</span>
                username<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
                password<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>password<span class="token punctuation">,</span>
                code<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>code
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>requesData<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span>
            <span class="token function">Register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token function-variable function">toggleForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token comment">// 去调用父级方法</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">switchFrom</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span>username<span class="token punctuation">,</span>module<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>Fragment<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;form-header&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>h4 className<span class="token operator">=</span><span class="token string">&quot;column&quot;</span><span class="token operator">&gt;</span>注册<span class="token operator">&lt;</span><span class="token operator">/</span>h4<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>span onClick<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>toggleForm<span class="token punctuation">}</span><span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;form-content&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>Form
                        name<span class="token operator">=</span><span class="token string">&quot;normal_login&quot;</span>
                        className<span class="token operator">=</span><span class="token string">&quot;login-form&quot;</span>
                        initialValues<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> remember<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
                        onFinish<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onFinish<span class="token punctuation">}</span>
                        <span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span> rules<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                                <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'邮箱不能为空'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'邮箱格式不正确'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                
                                <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>Input onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>inputChangeUsername<span class="token punctuation">}</span> prefix<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>UserOutlined className<span class="token operator">=</span><span class="token string">&quot;site-form-item-icon&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">&quot;邮箱&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item name<span class="token operator">=</span><span class="token string">&quot;password&quot;</span>   rules<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                                <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'密码不能为空'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> getFieldValue <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
                                    <span class="token function">validator</span><span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">let</span> passwords_value <span class="token operator">=</span> <span class="token function">getFieldValue</span><span class="token punctuation">(</span><span class="token string">&quot;passwords&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">validatse_pass</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;请输入大于6位小于20位数字+字母&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                        <span class="token punctuation">}</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span>passwords_value <span class="token operator">&amp;&amp;</span> value <span class="token operator">!==</span> passwords_value<span class="token punctuation">)</span><span class="token punctuation">{</span>
                                            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;两次密码不一致&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                        <span class="token punctuation">}</span>
                                        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                                
                            <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>Input onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>inputChangePassword<span class="token punctuation">}</span>  prefix<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>LockOutlined className<span class="token operator">=</span><span class="token string">&quot;site-form-item-icon&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">&quot;密码&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item name<span class="token operator">=</span><span class="token string">&quot;passwords&quot;</span> rules<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                                <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'再次确认密码不能为空'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> getFieldValue <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
                                    <span class="token function">validator</span><span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                                        <span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">!==</span> <span class="token function">getFieldValue</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                                            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&quot;两次密码不一致&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                        <span class="token punctuation">}</span>
                                    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                            <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>Input  prefix<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>LockOutlined className<span class="token operator">=</span><span class="token string">&quot;site-form-item-icon&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">&quot;再次确认密码&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item name<span class="token operator">=</span><span class="token string">&quot;code&quot;</span> rules<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                                <span class="token punctuation">{</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'请输入密码'</span> <span class="token punctuation">,</span>len<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span>
                            <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>Row gutter<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">13</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>Col span<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">15</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                                    <span class="token operator">&lt;</span>Input onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>inputChangeCode<span class="token punctuation">}</span> prefix<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>LockOutlined className<span class="token operator">=</span><span class="token string">&quot;site-form-item-icon&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span> placeholder<span class="token operator">=</span><span class="token string">&quot;验证码&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>Col span<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                                    <span class="token operator">&lt;</span>Code username <span class="token operator">=</span> <span class="token punctuation">{</span>username<span class="token punctuation">}</span> module<span class="token operator">=</span><span class="token punctuation">{</span>module<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span><span class="token operator">/</span>Col<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>Row<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span>Form<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
                                <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">&quot;primary&quot;</span> htmlType<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> className<span class="token operator">=</span><span class="token string">&quot;login-form-button&quot;</span> block<span class="token operator">&gt;</span> 注册<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span>
                            <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token punctuation">.</span>Item<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">export</span> <span class="token keyword">default</span> RegisterFrom

</code></pre></div><h2 id="密码加密"><a href="#密码加密" class="header-anchor">#</a> 密码加密</h2> <ul><li>安装依赖<code>npm install crypto-js</code></li> <li>在<code>RegisterFrom.js</code>里加<code>import Crypto-js</code></li> <li>md5加密<code>const pwd = CryptoJs.MD5(password).toString();</code></li> <li>md5加密<code>const pwd = CryptoJs.SHA1(password).toString();</code></li></ul> <img src="/My-notes/front/react/密码加密.jpg"> <h2 id="注册-登录"><a href="#注册-登录" class="header-anchor">#</a> 注册/登录</h2> <ul><li>点击注册触发方法<code>onFinish</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
    <span class="token function-variable function">onFinish</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> requesData <span class="token operator">=</span> <span class="token punctuation">{</span>
            username<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
            password<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>password<span class="token punctuation">,</span>
            code<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>code
        <span class="token punctuation">}</span>
        <span class="token function">Register</span><span class="token punctuation">(</span>requesData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
            message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>resCode <span class="token operator">===</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
           
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020-12-16 09:42:53</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/My-notes/front/react/project_02.html" class="prev">
        react登录注册
      </a></span> <span class="next"><a href="/My-notes/front/react/project_04.html">
        react首页
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/My-notes/assets/js/app.68fac0c7.js" defer></script><script src="/My-notes/assets/js/2.a0b16310.js" defer></script><script src="/My-notes/assets/js/32.2a1c6394.js" defer></script><script src="/My-notes/assets/js/3.d5588be5.js" defer></script>
  </body>
</html>
